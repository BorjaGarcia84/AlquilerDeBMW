<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Alquiler</title>

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="coche.html">


    <link href="https://fonts.googleapis.com/css?family=Lakki+Reddy&display=swap" rel="stylesheet">
</head>

<body>
    <div id="encabezado">
        <h1>Alquiler De BMW</h1>
    </div>
    <!--Coches-->
    <div id="lista">
        <select name="coches" id="selectCoches">
            <option value="">Elegir BMW</option>
            <option class="s1" value="serie1">BMW Serie 1</option>
            <option class="s2" value="serie2">BMW Serie 2</option>
            <option class="s3" value="serie3">BMW Serie 3</option>
            <option class="s4" value="serie4">BMW Serie 4</option>
            <option class="s5" value="serie5">BMW Serie 5</option>
            <option class="s6" value="serie6">BMW Serie 6</option>
            <option class="s7" value="serie7">BMW Serie 7</option>
            <option class="s8" value="serie8">BMW Serie 8</option>
        </select>
        <button onclick="mostrarCoche()">Buscar</button>
    </div>

    <div id="resultadoCoche"></div>

    <!--Clientes-->
    <div id="client">
        <form action="/clientes.js" id="selectCliente">
            <input type="text" placeholder="cliente">
            <input type="text" placeholder="DNI">
            <button onclick="mostrarCliente()">Buscar Cliente</button>
        </form>
    </div>

    <div id="resultadoClientes"></div>

    <!--Reservas-->
    <div id="reservas">
        <form action="/reservas.js" id="selectReserva">
            <input type="text" placeholder="cliente">
            <input type="text" placeholder="DNI">
            <button onclick="mostrarReserva()">Buscar Reserva</button>
        </form>
    </div>

    <div id="resultadoReservas"></div>

    <script>

        function mostrarCoche() {
            let coche = document.getElementById('selectCoches').value;
            fetch('http://localhost:3000/coche?coches=' + coche)
                .then(function (respuesta) {
                    return respuesta.json();
                })
                .then(function (datos) {
                    document.getElementById('resultadoCoche').innerHTML =
                        `<div>
             <p>Nombre: <strong>${datos[0].nombre} </strong></p>
             </div>
            <div>
            <img src=${datos[0].imagen} alt=""/>
            </div>
            <div>
            <p>Precio/Dias: ${datos[0].precioPorDia} </p>
            <p>Estado: ${datos[0].estado} </p>
            </div>`;
                })
        }

        function mostrarCliente() {
            let cliente = document.getElementById('selectClientes').value;
            fetch('http://localhost:3000/clientes?clientes=' + cliente)
                .then(function (respuesta) {
                    return respuesta.json();
                })
                .then(function (datos) {
                    document.getElementById('resultadoCliente').innerHTML =
                        `<div>
                            <p>${datos[0].nombre}</p>
                        </div>
                        <div>
                            <p>${datos[0].DNI}</p>
                        </div>`;
                })
        }

        function mostrarResultado() {
            let reserva = document.getElementById('selectReserva').value;
            fetch('http://localhost:3000/reservas?reservas=' + reserva)
                .then(function (respuesta) {
                    return respuesta.json();
                })
                .then(function (datos) {
                    document.getElementById('resultadoReserva').innerHTML =
                        `<div>
                        <p>${datos[0].nombre}</p>
                    </div>
                    <div>
                        <p>${datos[0].coche}</p>
                        <p>${datos[0].dias}</p>
                    </div>`
                })
        }

    </script>
</body>

</html>